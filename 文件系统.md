# 一切皆文件

之前一直听过这句话，今天终于明白了，原来对于 linux 系统而言，连硬件都是文件。（无端联想 lisp 一切皆链表）

在终端输入命令

```
df -h
```

输出

```
文件系统        容量  已用  可用 已用% 挂载点
udev            3.7G     0  3.7G    0% /dev
tmpfs           767M  3.3M  764M    1% /run
/dev/nvme0n1p5   16G  8.8G  6.1G   60% /
tmpfs           3.8G  170M  3.6G    5% /dev/shm
tmpfs           5.0M  4.0K  5.0M    1% /run/lock
tmpfs           4.0M     0  4.0M    0% /sys/fs/cgroup
/dev/nvme0n1p6   76G  2.2G   70G    3% /data
/dev/nvme0n1p2  1.5G  121M  1.3G    9% /boot
/dev/nvme0n1p4   16G  7.2G  7.7G   49% /recovery
/dev/sda1       916G  2.8G  867G    1% /home
tmpfs           767M   92K  767M    1% /run/user/1000

```

可以看见文件系统一列就是一些硬件的名称：其中出现最多的前缀`/dev/`表示 device 即设备。往后最主要出现的是 nvme0n1p[1-6]其中 nvme 是一种固态硬盘技术，0 指该硬盘的主控芯片，n1 是主存储器，p[1-6]是它的六个分区。
之后四列意思明显。而挂载点就是文件系统对应的入口，即此入口下所有文件都存放在挂载点对应的文件系统中。譬如根目录`/`下所有文件都存放在`/dev/nvme0n1p5`。这一点可以类比某 win 的盘符 CDEF。

# 常见挂载点

搞清楚常见挂载点是为了合理安排系统分区。所谓分区，就是将系统的不同功能对应到硬件的不同物理位置。物理上不同分区互相隔离，确保系统的部分功能失效时，不至于影响其他功能。譬如将系统的启动目录`/boot`与根目录`/`隔离开，即使根目录出问题，系统也能正常启动。

> 有人可能疑惑，`/boot`不应该是`/`的子目录吗？为什么能够和根目录隔离开呢？这就是 linux 挂载的自由性了。挂载点是可以精确到一个具体目录的，尽管逻辑上二者是上下级关系，但物理上是互不包含的

## / （根）

我们知道`/`是 linux 目录的分隔符，如果只有一根`/`单独存在，它指的就是（根）目录。逻辑上它是所有目录的上级，根目录没有上级。（指令`cd ..`的收敛点与不动点）

根目录是安装 linux 系统唯一必须挂载的目录。其余目录为了系统的稳定、管理、维护方便，建议单独安排分区挂载。

> 注意不要将根目录`/`与根用户目录`/root`搞混

## /boot

linux 内核启动所需文件目录，大小约为 100M。建议单独挂载。

## /home

用于存储用户自己创建文件的目录。`/home`是所有用户目录的总和，譬如在我的系统中`ls /home`返回

```
alephpi  lost+found  timeshift
```

可以看到这个目录中只有一个用户目录`/alephpi`。对于用户而言，属于他的用户目录在命令行的别名（alias）是`~`。对于我（alephpi）而言，`~`就等于`/home/alephpi`

## swap

交换分区，或者说虚拟内存。一般设置为物理内存大小，物理内存过小可以多分配，若足够大可以不分配。

## efi

以下为常见目录，通常不必单独挂载

## /usr

应用程序所在目录

## /var

指 variable，用于存放经常变动的文件，譬如日志、缓存。

## /etc

存放各种配置文件的目录。

## /tmp

用于存放临时文件，因 linux 临时垃圾很少，可不单独挂载。

## /opt

指 optional， 某些应用程序会安装至此。
